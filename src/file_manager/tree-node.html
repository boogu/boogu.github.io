<template>
  <div class="tree-node-wrapper">
    <div class="tree-node-icon-container">  
      <span class="tree-node-expand-button glyphicon ${meta.collapsed ? 'glyphicon-plus-sign':'glyphicon-minus-sign'}" click.delegate="toggle()"></span>
    </div>
    <span href.bind="url" click.delegate="open($event)">${meta.name}</span>
    <input show.bind="meta.type=='directory'" type="button" value="New Directory" click.delegate="newDirectory()"></input>
    <input show.bind="meta.type=='directory'" type="button" value="New Flat" click.delegate="newFlat()"></input>
    <input show.bind="meta.type=='directory'" type="button" value="New Tree" click.delegate="newTree()"></input>
    <input show.bind="meta.type=='directory'" type="button" value="New Mosaic" click.delegate="newMosaic()"></input>
    <input type="button" value="Cut" click.delegate="cut()"></input>
    <input show.bind="meta.type=='directory'" type="button" value="Paste" click.delegate="paste()"></input>
    <input type="button" value="Rename" click.delegate="rename()"></input>
    <input type="button" value="Delete" click.delegate="delete()"></input>
  </div>
    <div class="tree-node-child-list" repeat.for="child of node.children" show.bind="!$parent.meta.collapsed">
      <compose
        model.bind="{'node_id':child, 'parentVM':$parent}"
        view-model="./tree-node">
      </compose>
    </div>
</template>
