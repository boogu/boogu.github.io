<template>
  <script src="./jspm_packages/github/jackmoore/autosize@2.0.0/dest/autosize.js"></script>
  <script src="../interact-1.2.4.js"></script>
  <div  style="width: ${root.width}px; height: ${root.height}px;" >
    <input type="button" value="New" click.delegate="newFlatNode()"></input>
    <div class="flat-window" id.bind="child" style="left: ${$parent.file.nodes[child].x}px; top: ${$parent.file.nodes[child].y}px; width: ${$parent.file.nodes[child].width}px; height: ${$parent.file.nodes[child].height}px;" repeat.for="child of root.children">
      <span class="flat-titlebar"></span>
      <compose
        class="flat-body"
        model.bind="{'file_id':$parent.file.meta.id, 'root_id':child, 'type': 'online', 'flatVM':$parent}"
        view-model="tree">
      </compose>
    </div>
  </div>
</template>